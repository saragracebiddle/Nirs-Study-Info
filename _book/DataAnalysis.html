<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Data Analysis | NIRS Study Information</title>
<meta name="author" content="Sara Grace Biddle">
<meta name="description" content="Be sure you have exported and stored all data appropriately.  8.1 Lactate Threshold Take the lactate threshold data collection sheet. Average the duplicate lactate measurements for each completed...">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="Chapter 8 Data Analysis | NIRS Study Information">
<meta property="og:type" content="book">
<meta property="og:description" content="Be sure you have exported and stored all data appropriately.  8.1 Lactate Threshold Take the lactate threshold data collection sheet. Average the duplicate lactate measurements for each completed...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Data Analysis | NIRS Study Information">
<meta name="twitter:description" content="Be sure you have exported and stored all data appropriately.  8.1 Lactate Threshold Take the lactate threshold data collection sheet. Average the duplicate lactate measurements for each completed...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">NIRS Study Information</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li><a class="" href="Literature.html"><span class="header-section-number">2</span> Literature</a></li>
<li><a class="" href="PatientRecruitment.html"><span class="header-section-number">3</span> Patient Recruitment</a></li>
<li><a class="" href="Methods.html"><span class="header-section-number">4</span> Methods</a></li>
<li><a class="" href="ExerciseTesting.html"><span class="header-section-number">5</span> Exercise Testing</a></li>
<li><a class="" href="DataStorage.html"><span class="header-section-number">6</span> Data Storage</a></li>
<li><a class="" href="database.html"><span class="header-section-number">7</span> Database</a></li>
<li><a class="active" href="DataAnalysis.html"><span class="header-section-number">8</span> Data Analysis</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="PortaMon.html"><span class="header-section-number">A</span> PortaMon</a></li>
<li><a class="" href="Parvo.html"><span class="header-section-number">B</span> ParvoMedics TrueOne 2400</a></li>
<li><a class="" href="Appendix-Surveys.html"><span class="header-section-number">C</span> Surveys</a></li>
<li><a class="" href="Instruments.html"><span class="header-section-number">D</span> Instruments</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="DataAnalysis" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Data Analysis<a class="anchor" aria-label="anchor" href="#DataAnalysis"><i class="fas fa-link"></i></a>
</h1>
<p>Be sure you have exported and stored all data appropriately.</p>
<div id="DataAnalysis-LT" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Lactate Threshold<a class="anchor" aria-label="anchor" href="#DataAnalysis-LT"><i class="fas fa-link"></i></a>
</h2>
<p>Take the lactate threshold data collection sheet.</p>
<p>Average the duplicate lactate measurements for each completed stage.</p>
<p>Make a plot of lactate by power (Watts). Find the power at which lactate would have been 4.00. That is the power at which lactate threshold occurred.</p>
<p>Multiply this power by 1.1 to calculate the power at which the patient will conduct subsequent on/off kinetics testing.</p>
</div>
<div id="DataAnalysis-Onoff" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> On/Off Kinetics<a class="anchor" aria-label="anchor" href="#DataAnalysis-Onoff"><i class="fas fa-link"></i></a>
</h2>
<div id="using-the-app" class="section level3" number="8.2.1">
<h3>
<span class="header-section-number">8.2.1</span> Using the App<a class="anchor" aria-label="anchor" href="#using-the-app"><i class="fas fa-link"></i></a>
</h3>
<p>Use the exported <code>.txt</code> file. Upload this file into the Shiny app.</p>
<p>Refer to the data collection sheet and find the time on the NIRS that the exercise test started. Input this time.</p>
<p>Look at the graph of the data. Make sure that the transitions are at the appropriate times on the graph. The graph should end on a rest stage. The transitions between stages should occur at the labelled vertical lines on the graph. If the graph seems a little off, you can adjust the start time by a few seconds to align the timing of the transitions as close as possible to the labelled lines on the graph.</p>
<p>Once the graph of the raw data looks correct, look at the plotted regressions. The gray is the raw data and the red is the regression line. The red should follow the gray raw data as closely as possible. If the regression does not seem to follow this at all, you can try adjusting the <code>transition time</code> variable. This will remove a few seconds from the beginning and end of the stage, where the patient may have been moving around on the bike or adjusting from the previous stage. Check to make sure that removing the time made a beneficial difference. Sometimes removing the transition time is helpful and sometimes it makes things worse so try several values and check the regression lines each time.</p>
<p>Once you are content with the regressions, check the final table of regression coefficients.</p>
<p>When you are okay with the results obtained from the app, you can download the report as a <code>.pdf</code>. The report shows the parameters used for the analysis, graphs, and results tables from the analysis. Save this <code>.pdf</code> with the raw <code>.txt</code> file and name is appropriately.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_url.html">include_app</a></span><span class="op">(</span><span class="st">'https://saragracebiddle.shinyapps.io/DataAnalysis/'</span><span class="op">)</span></span></code></pre></div>
<p>Upload the report into RedCap.</p>
</div>
<div id="by-hand" class="section level3" number="8.2.2">
<h3>
<span class="header-section-number">8.2.2</span> By Hand<a class="anchor" aria-label="anchor" href="#by-hand"><i class="fas fa-link"></i></a>
</h3>
<p>Use the exported <code>.txt</code> file.</p>
<p>Read in the exported PortaMon data.</p>
<p>The PortaMon does not record in increments of time, it records the sample number. The PortaMon records data at a rate of 10 hz, so it takes 10 samples a second. The time in seconds from the start of the test is the sample number divided by 10.</p>
<p>The PortaMon was on and collecting data from the time the device was placed until the end of the exercise test. We aren’t interested in the data from before the start of the exercise test, so that can be removed.</p>
<p>Next, find the time chunks for each section of the test. An on/off kinetics consists of the following sections, each 2 minutes (120 seconds) in duration: Baseline Rest, Warm Up, Work 1, Rest 1, Work 2, Rest 2, Work 3, and Rest 3.</p>
<p>Plot the exercise test. On the x axis, use time in seconds. Have dual y axes, one with hemoglobin arbitrary units and one with percentages. Plot all signals (O_2Hb and HHb for all exported transmitters and TSI) over time and check that the transitions between sections line up with the expected times. Adjust slightly as necessary, as the start time recorded for the test may be silghtly off due to human error / time taken for the PARVO to begin the test.</p>
<p>Use the plot and notes from the test to examine the data for movement artifacts that need to be removed before analysis. Remove as necessary.</p>
<p>The oxyhemoglobin and deoxyhemoglobin measurements have arbitrary units- they are change in oxy and deoxyhemoglobin. This means that we cannot use the amounts of oxyhemoglobin and deoxyhemoglobin and compare those over time. For example, the average oxyhemoglobin at rest could be measured as 4 for one test and 6 at the next test. This does not mean that at the second test, the amount of oxyhemoglobin in the blood was actually higher than at the first test.</p>
<p>Average the O_2Hb and HHb across the transmitters.</p>
<p>Calculate the steady state at the end of each non-baseline and non-warm up section (6 sections in total- 3 work sections and 3 rest sections) by averaging the last 30 seconds of the section for each signal type (O_2Hb, HHb, and TSI).</p>
<p>There are 18 steady state values: 3 signal types and 6 sections.</p>
<p>Calculate the delta steady state for each transition.
Subtract the rest steady state from the corresponding work steady state. I.e. subtract rest 1 steady state from work 1 steady state.</p>
<p>There are 9 delta steady state values: 3 signal types and 3 transitions.</p>
<p>We use the following equation to describe an asymptotic or monoexponential curve:</p>
<p><span class="math display">\[y =({Asym}-B_0) - ({Asym}-B_0)*e^{-t/ \tau} \]</span></p>
<p>Where <span class="math inline">\({Asym}\)</span> is the asymptote (or Steady State), <span class="math inline">\(B_0\)</span> is the value at time 0, <span class="math inline">\(t\)</span> is the time (in seconds), and <span class="math inline">\(\tau\)</span> is the time constant.</p>
<p>Calculate the coefficients for the monoexponential curve for each transition. There are 9 monoexponential curve equations: 3 signal types and 3 transitions.</p>
<p>When you are satisfied with the results obtained from the app, download the report and upload it into the RedCap.</p>

</div>
</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="database.html"><span class="header-section-number">7</span> Database</a></div>
<div class="next"><a href="PortaMon.html"><span class="header-section-number">A</span> PortaMon</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#DataAnalysis"><span class="header-section-number">8</span> Data Analysis</a></li>
<li><a class="nav-link" href="#DataAnalysis-LT"><span class="header-section-number">8.1</span> Lactate Threshold</a></li>
<li>
<a class="nav-link" href="#DataAnalysis-Onoff"><span class="header-section-number">8.2</span> On/Off Kinetics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#using-the-app"><span class="header-section-number">8.2.1</span> Using the App</a></li>
<li><a class="nav-link" href="#by-hand"><span class="header-section-number">8.2.2</span> By Hand</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>NIRS Study Information</strong>" was written by Sara Grace Biddle. It was last built on 2024-01-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
